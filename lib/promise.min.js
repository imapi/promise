/*! promise 17-11-2013 */
function Promise(){var e,t,n={reject:"rejected",resolve:"resolved",update:"updated",terminate:"terminated"},r=[],a=function(t){return function(){e&&e[n[t]]?e[n[t]].apply(void 0,arguments):r.push({name:n[t],args:arguments})}};for(t in n)n.hasOwnProperty(t)&&(this[t]=a(t));this.then=function(t){if(r){var n;for(n=0;r.length>n;n+=1)t[r[n].name].apply(void 0,r[n].args);r=[]}e=t}}